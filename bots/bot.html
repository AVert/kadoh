<html>
<script type="text/javascript" src="jquery-1.7.min.js"></script>
<script type="text/javascript" src="KadOH.js"></script>
<script type="text/javascript">
$(function() {
  
  // Join the network using other clients as bootstraps
  function onClickJoin(event) {
    try {
      var bootstraps = ['67.215.242.139:6881', '67.215.242.138:6881'];
      node.join(bootstraps);
    } catch(e) {
      console.error(e.stack);
    }
    event.preventDefault();
  }
  
  $('#join').click(onClickJoin);

  var options = {
    reactor : {
      type      : 'XMPP',
      transport : {
        jid: 'kadoh@jabber.org',
        password: 'azerty',
        resource: 'kadoh' + Math.random() * 100
      }
    }
  };

  node = new KadOH.Node(undefined, options);
  KadOH.log.setLevel('debug');
  KadOH.log.subscribeTo(node, 'Node');
  KadOH.log.subscribeTo(node.reactor(), 'Reactor');
  KadOH.log.subscribeTo(node.reactor()._transport, 'Transport');
  node.connect();
});
</script>
<body>
<h2>Send message to node :</h2>
<form id='form'>
  <p>
    <input type="submit" value="Join" name="join" id="join">
  </p>
  <p>
    <input type="submit" value="Iterative Lookup" name="lookup" id="lookup">
  </p>
  <p>
    <input type="text" value="" id="dst">
    <input type="text" value="" id="key">
    <input type="submit" value="FIND_NODE" name="find" id="find">
  </p>
</form>
<div id='info'></div>
<div id='iterative'></div>
</body>
</html>
